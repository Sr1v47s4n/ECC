!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),e.ResourceListing=t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)),n}function i(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach((function(e){var t,r;t=n,r=i[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function s(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={template:'<div class="resource-listing thumbnail-links-wrapper"> <div class="thumbnail-links-wrapper__header filters"  v-if="!hideFilters"> <a href="#after-filters" class="skip-link">{{ strings.skip_filters }}</a> <div class="filters__wrapper"> <button @click="resetFilters" :aria-disabled="!filtersActive && !searchActive" :tabindex="!filtersActive && !searchActive ? -1 : 0" :aria-hidden="!filtersActive && !searchActive" v-if="dropdowns || (filters.length > 1)" class="link-cta filters__item filters__item--reset"> {{ strings.view_all }} </button> <SelectNav v-for="filter in mappedFilters" v-model="currentFilters[filter.name]" v-if="dropdowns || filters.length > 1" :key="filter.name" v-bind="filter" :id="`${filter.name}-filter`" :dropdownIcon="dropdownIcon" :multiselect="multiselect" :strings="strings" /> <LinkNav v-for="filter in mappedFilters" v-model="currentFilters[filter.name]" v-else :key="filter.name" v-bind="filter" :id="`${filter.name}-filter`" :dropdownIcon="dropdownIcon" :strings="strings" /> </div> <SearchForm class="filters__item filters__item--search" :label="strings.search_label" :submitLabel="strings.submit_search_label" :clearLabel="strings.clear_search_label" id="resources-search" v-model="searchInput" @submit="currentSearch = searchInput" @reset="currentSearch = \'\'" /> </div> <a id="after-filters"></a> <ul class="thumbnail-links-wrapper__items" v-if="filteredResources.length > 0" > <ThumbnailLink v-for="resource, index in visibleResources" :key="index + \'-\' + componentKey" v-bind="resource" ref="resources" :styles="styles.resource" :aria-setsize="filteredResources.length" :aria-posinset="index + 1" :strings="strings" /> </ul> <div v-else class="thumbnail-links-wrapper__error" v-html="strings.no_results_message"></div> <div v-if="totalPages > currentPage" class="thumbnail-links-wrapper__footer" > <button :class="buttonStyle" @click="loadMore">{{ strings.load_more }}</button> </div> </div>',components:{ThumbnailLink:window.ThumbnailLink.default,SelectNav:window.SelectNav.default,LinkNav:window.LinkNav.default,SearchForm:window.SearchForm.default},mixins:[window.resourceListingMixins],data:function(){return{currentPage:1,currentFilters:{},currentSearch:"",searchInput:"",componentKey:0}},watch:{currentPage:function(e){e>this.totalPages&&0<this.totalPages?this.currentPage=this.totalPages:e<1&&(this.currentPage=1)},totalPages:function(e){this.currentPage>e&&(this.currentPage=e)},currentFilters:{handler:function(e){var r=window.themeUtility.insertUrlParam;Object.entries(e).forEach((function(e){e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s=[],a=!0,o=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);var t=e[0];e=e[1];r(t,!!e&&(e instanceof Array?e.map((function(e){return e.name})).join(","):e.name))})),this.componentKey+=1},deep:!0},currentSearch:function(e){window.themeUtility.insertUrlParam("search",e.toString().trim()),this.searchInput!==e&&(this.searchInput=e)}},computed:{defaultFilters:function(){var r={};return this.filters.forEach((function(e){var t=e.name;e.options,r[t]=null})),r},mappedFilters:function(){var n=this;return this.filters.map((function(r){return i(i({},r),{},{options:r.options.filter((function(t){return n.resources.find((function(e){return n.handleFilterOption(e,t,r)}))}))})}))},filtersActive:function(){return 0<Object.values(this.currentFilters).filter((function(e){return null!==e})).length},searchActive:function(){return this.currentSearch.toString().trim()},filteredResources:function(){var s=this;if(!this.filtersActive&&!this.searchActive)return this.resources;var e,t=this.resources;return this.filtersActive&&(t=t.filter((function(n){var i=!0;return s.filters.forEach((function(t){var e=s.currentFilters[t.name];if(e&&i)if(n[t.name]){var r=!1;if(s.currentFilters[t.name].length)e.forEach((function(e){r=r||s.handleFilterOption(n,e,t)}));else{if(r)return;r=s.handleFilterOption(n,e,t)}i=r}else i=!1})),i}))),this.searchActive&&(e={includeScore:!1,shouldSort:!1,ignoreLocation:!0,threshold:.2,keys:["name"].concat(r(this.filters.map((function(e){return"".concat(e.name,".name")}))),["additional_search_keywords"])},t=new Fuse(t,e).search(this.currentSearch.toString().trim()).map((function(e){return e.item}))),t},sortedResources:function(){return this.filteredResources.sort((function(e,t){return t.publish_date-e.publish_date}))},totalPages:function(){return Math.ceil(this.filteredResources.length/this.perPage)},resourcesToShow:function(){return this.perPage*this.currentPage},visibleResources:function(){var t=this;return this.filteredResources.slice(0,this.resourcesToShow).map((function(e){return{image:e.image,url:e.url,name:e.name,tags:t.resourceTags(e),description:e.description}}))},buttonStyle:function(){return"button button--"+this.styles.listing.button_color}},methods:{loadMore:function(){var t=this;this.currentPage++,Vue.nextTick((function(){var e=t.resourcesToShow-t.perPage;null!=(e=window.themeUtility.getFocusable(t.$refs.resources[e].$el)[0])&&e.focus()}))},handleFilterOption:function(e,t,r){return!!(e=e[r.name])&&("MULTISELECT"===r.type?!!e.find((function(e){return e.name===t.name})):e.name===t.name)},resourceTags:function(r){var n=[];return this.showTags&&(this.filters.filter((function(e){return e.display_in_thumbnail})).forEach((function(e){var t=r[e.name];t&&("MULTISELECT"===e.type?t.forEach((function(e){return n.push(e.name)})):n.push(t.name))})),this.tagLimit&&this.tagLimit<n.length&&n.splice(this.tagLimit,n.length-this.tagLimit)),this.showAuthor&&r.author&&n.push(r.author),this.showDate&&n.push(r.publish_date_formatted),this.showReadTime&&n.push(r.read_time),n},resetFilters:function(){this.currentFilters=i({},this.defaultFilters),this.currentSearch=""}},mounted:function(){var r=i({},this.defaultFilters);this.filters.forEach((function(e){var t=window.themeUtility.getUrlParam(e.name);t&&0<(t=t.split(",").map((function(t){return e.options.find((function(e){return e.name===t}))})).filter((function(e){return!!e}))).length&&(r[e.name]=t)})),this.currentFilters=r,this.currentSearch=window.themeUtility.getUrlParam("search","").toString().trim()}};e.default=o}));
//# sourceURL=https://cdn2.hubspot.net/hub/74005/hub_generated/template_assets/78893724947/1681218731494/asset-marketplace/Pragyotsav-free/assets/vue-components/ResourceListing.js