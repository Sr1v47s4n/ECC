!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),e.SelectNav=t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){"use strict";function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function i(i){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{};e%2?t(Object(l),!0).forEach((function(e){var t,n;t=i,n=l[e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):t(Object(l)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}))}return i}function l(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={template:'<div :class="classes" @focusout="handleFocusOut" @keydown="handleKeydown" > <button class="select-nav__toggle" @click="handleToggleClick" :aria-controls="id" aria-haspopup="true" :aria-pressed="active" :aria-describedby="labelId" ref="toggle" > <template>{{ label }} <span v-html="dropdownIcon"></span></template> </button> <ul class="select-nav__options inputs-list" ref="options"> <li v-if="value && !multiselect"> <button @click="handleViewAll"> {{ strings.view_all }} <span class="screen-reader-text">({{ label }})</span> </button> </li> <li class="select-nav__item hs-form-checkbox" v-for="option, index in mappedOptions" :key="index"> <label v-if="multiselect" :for="option.id"> <input :id="option.id" type="checkbox" v-model="multiselectValue" :value="option.option" :checked="option.checked" :name="name" class="hs-input" /> <span :class="option.class"> {{ option.name }} </span> </label> <button @click="handleOptionClick(option.option)" :class="option.class" v-else> {{ option.name }} </button> </li> <li class="select-nav__item" v-if="value && multiselect"> <button @click="handleViewAll"> {{ strings.view_all }} <span class="screen-reader-text">({{ label }})</span> </button> </li> </ul> </div>',props:{id:{type:String,required:!0},name:{type:String},labelId:{type:String},label:{type:String,required:!0},dropdownIcon:{type:String},options:{type:Array},value:{type:[Object,Array,null]},multiselect:{type:Boolean,default:!1},strings:{type:Object,default:function(){return{view_all:"View All"}}}},data:function(){return{active:!1,multiselectValue:[]}},watch:{active:function(e){var t=this;e&&Vue.nextTick((function(){var e;null!=(e=window.themeUtility.getFocusable(t.$refs.options)[0])&&e.focus()}))},multiselectValue:function(e){this.valuesEqual(e,this.value)||this.$emit("input",0===e.length?null:e)},value:function(e){this.multiselect&&!this.valuesEqual(e,this.multiselectValue)&&(this.multiselectValue=e?l(e):[])}},computed:{mappedOptions:function(){var n=this;return this.options.map((function(t,e){return i(i({},t),{},{option:t,id:"".concat(n.id,"-").concat(e),class:n.value&&t.name===(n.value.name||n.value[0].name)?"active":"",checked:!!(n.multiselect&&n.value&&0<n.value.length)&&!!n.value.find((function(e){return e.id===t.id}))})}))},selectedValueLabel:function(){return this.value?(this.multiselect?l(this.value):[this.value]).map((function(e){return e.name})).join(", "):""},classes:function(){return{"select-nav":!0,"select-nav--active":this.active}}},methods:{valuesEqual:function(e,n){return e===n||!(null===e&&null!==n||null!==e&&null===n)&&e.length===n.length&&e.filter((function(t){return n.find((function(e){return t.id===e.id}))})).length===e.length},handleToggleClick:function(){this.active=!this.active},handleFocusOut:function(){var e=this;requestAnimationFrame((function(){!document.activeElement||e.$el===document.activeElement||e.$el.contains(document.activeElement)||document.activeElement.contains(e.$el)||(e.active=!1)}))},handleClickOutside:function(e){this.$el.contains(e.target)||(this.active=!1)},handleOptionClick:function(e){this.$emit("input",e),this.active=!1,this.$refs.toggle.focus()},handleViewAll:function(){this.$emit("input",null),this.active=!1,this.$refs.toggle.focus()},handleKeydown:function(e){if(this.active)switch(e.code){case"ArrowDown":case"ArrowUp":e.preventDefault();var t=this.$refs.options.querySelectorAll("button, input"),n=l(t).indexOf(document.activeElement)+("ArrowUp"===e.code?-1:1);return void t[n=(n=n<0?t.length-1:n)>t.length-1?0:n].focus();case"Escape":return this.active=!1,void this.$refs.toggle.focus()}}},mounted:function(){this.multiselect&&this.value&&(this.multiselectValue=l(this.value)),window.addEventListener("click",this.handleClickOutside)},destroyed:function(){window.removeEventListener("click",this.handleClickOutside)}};e.default=n}));
//# sourceURL=https://cdn2.hubspot.net/hub/74005/hub_generated/template_assets/78893829981/1681218730422/asset-marketplace/Pragyotsav-free/assets/vue-components/SelectNav.js